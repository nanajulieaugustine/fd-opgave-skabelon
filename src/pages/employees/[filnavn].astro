---
import Layout from '../../layouts/Layout.astro';
import IndividualEmployee from '../../components/IndividualEmployee.astro';

export async function getStaticPaths() {
    const url = "https://frontend-design-theme.netlify.app/api/employees";
    
    const employees = await fetch(url).then(res=>res.json())
    
    return employees.map(employee => ({
        params: { filnavn: employee.slug },
        props: { employee }
      }))
  }
  
  const { employee } = Astro.props;
  console.log(employee);
---

<Layout>
    <ul>
        <IndividualEmployee {...employee} />
      </ul>
</Layout>